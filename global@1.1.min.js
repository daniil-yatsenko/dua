var e;function t(){gsap.registerPlugin(ScrollTrigger),e&&e.destroy(),(e=new Lenis({lerp:.95,smooth:!0,autoResize:!0})).on("scroll",(e=>{ScrollTrigger.update()}));const t=r=>{e.raf(r),requestAnimationFrame(t)};requestAnimationFrame(t),"/"==window.location.pathname&&e.stop()}gsap.defaults({ease:"power2.inOut",duration:.3});gsap.timeline();let r=null,o=[];function n(e){r&&(r=null,o.forEach((e=>{e.destroy(),o=[]}))),r=e.querySelectorAll("[vimeo_id]"),r.forEach((e=>{let t=e.getAttribute("vimeo_id");if(!t)return;let r={id:t,width:e.offsetWidth,quality:"1080p",background:!0,dnt:!0},n=new Vimeo.Player(e.firstElementChild,r);n.setQuality("1080p"),n.on("play",(()=>{Promise.all([n.getVideoWidth(),n.getVideoHeight()]).then(),gsap.to(e,{opacity:1})})),o.push(n)}))}barba.init({views:[{namespace:"home",afterEnter(e){!function(e){(function(e){let t=e.querySelectorAll("video");t&&t.forEach((e=>{e.play()}))})(e),function(e){let t=e.querySelector(".hero_logo");gsap.timeline().set(t,{opacity:1})}(e),gsap.to("#hero_links",{pointerEvents:"auto"})}(e.next.container)}},{namespace:"work",async beforeEnter(e){!function(e){(function(e){if(window.innerWidth<992)return;function t(){let e=window.innerWidth/2-400;return Math.ceil(Math.random()*(e-16)+16)}e.querySelectorAll(".work_item-wrapper").forEach((e=>{let r,o=e.querySelector(".work_cover-image-frame"),n=e.querySelector(".work_caption-wrapper");e.addEventListener("mouseenter",(()=>{r&&r.pause(),r=gsap.timeline(),r.set(o,{display:"flex",align:"center",right:t(),opacity:0}),r.to(o,{opacity:1,duration:.1}),r.to(n,{y:"0.2rem",duration:.2})})),e.addEventListener("mouseleave",(()=>{r&&r.pause(),r=gsap.timeline(),r.to(o,{opacity:0,duration:.1}),r.to(n,{y:""}),r.set(o,{display:"none"})}))}))})(e),function(e){let t=e.querySelectorAll(".work_index-wrapper");t.forEach(((e,t)=>{let r;r=t<9?"0"+(t+1).toString():(t+1).toString(),e.innerHTML=r})),gsap.to(t,{opacity:1,duration:.1})}(e)}(e.next.container);let t=document.querySelector(".footer_logo-wrapper");await gsap.to(t,{opacity:0,height:0,duration:.2}),gsap.set(t,{display:"none"})},afterLeave(){let e=document.querySelector(".footer_logo-wrapper");gsap.set(e,{display:"block"}),gsap.to(e,{opacity:1,height:"",duration:.2})}},{namespace:"about",afterEnter(e){!function(e){!function(e){setTimeout((()=>{gsap.registerPlugin(ScrollTrigger);let t=e.querySelector(".about_photograph-wrapper");gsap.set(t,{transformOrigin:"bottom center"}),gsap.to(t,{scale:0,ease:"none",scrollTrigger:{trigger:t,start:"top top",end:"bottom top",scrub:!0}})}),0)}(e)}(e.next.container)}},{namespace:"project-page",beforeEnter(e){!function(e){n(e),function(e){let t=e.querySelector("#post_list .w--current")?.parentElement?.nextElementSibling?.querySelector("a")?.getAttribute("href")||e.querySelector("#post_list")?.firstElementChild?.firstElementChild?.querySelector("a")?.getAttribute("href"),r=e.querySelector("#post_list .w--current")?.parentElement?.previousElementSibling?.querySelector("a")?.getAttribute("href")||e.querySelector("#post_list")?.firstElementChild?.lastElementChild?.querySelector("a")?.getAttribute("href"),o=e.querySelector("#next_button");o&&(null==t&&(t="#",gsap.set(o,{display:"none"})),o.href=t);let n=e.querySelector("#previous_button");n&&(null==r&&(r="#",gsap.set(n,{display:"none"})),n.href=r)}(e)}(e.next.container)}}],transitions:[{name:"default-transition",async leave(e){let t=e.current.container;ScrollTrigger.getAll().forEach((e=>e.kill())),await gsap.to(t,{opacity:0,duration:.1,ease:"power2.out"})},enter(r){let o=r.next.container,n=document.querySelector(".footer");gsap.set([o,n],{opacity:0}),gsap.to(o,{opacity:1,duration:.6,ease:"power2.out"}),gsap.to(n,{opacity:1,duration:.6,ease:"power2.out",delay:.3}),t(),e.scrollTo(0)},afterEnter(t){page=t.next.container,page.querySelectorAll("img").forEach((t=>{t.addEventListener("load",(()=>{e.resize()}))}))}},{to:{namespace:["home"]},once(){let e=document.querySelector(".page-wrapper");gsap.timeline().to(e,{opacity:1,duration:.6,ease:"power2.out"})}}]}),document.addEventListener("DOMContentLoaded",(function(){let r;t(),document.querySelectorAll("img").forEach((t=>{t.addEventListener("load",(()=>{e.resize()}))})),window.addEventListener("resize",(()=>{clearTimeout(r),r=setTimeout((()=>{document,n(document)}),300)}))}));
